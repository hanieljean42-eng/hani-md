name: hani-md
type: web
git:
  repository: github.com/hanieljean42-eng/hani-md
  branch: main
  builder: buildpack
  buildpack:
    build_command: npm install --legacy-peer-deps
    run_command: node index.js
instance_types:
  - type: free
ports:
  - port: 3000
    protocol: http
env:
  - key: NODE_ENV
    value: production
  - key: PORT
    value: "3000"
  - key: PREFIXE
    value: "."
  - key: NOM_OWNER
    value: "H2025"
  - key: NUMERO_OWNER
    value: "2250150252467"
  - key: MODE
    value: "public"
  - key: STICKER_PACK_NAME
    value: "HANI-MD"
  - key: STICKER_AUTHOR_NAME
    value: "H2025"
  - key: WAVE_MERCHANT_ID
    value: ""  # Configurer dans le dashboard Koyeb
  - key: WAVE_ACCOUNT
    value: ""  # Configurer dans le dashboard Koyeb
  - key: WAVE_API_KEY
    value: ""
  - key: WAVE_SUCCESS_URL
    value: "https://hani-md-1hanieljean1-f1e1290c.koyeb.app/payment-success"
  - key: WAVE_ERROR_URL
    value: "https://hani-md-1hanieljean1-f1e1290c.koyeb.app/payment-error"
  # MySQL - Configurer ces valeurs dans le dashboard Koyeb (pas dans le code)
  # - key: MYSQL_ADDON_HOST
  # - key: MYSQL_ADDON_PORT
  # - key: MYSQL_ADDON_USER
  # - key: MYSQL_ADDON_PASSWORD
  # - key: MYSQL_ADDON_DB
scaling:
  min: 1
  max: 1
regions:
  - fra
health_checks:
  - path: /api/status
    port: 3000
    protocol: http
    grace_period: 60
    interval: 30
    timeout: 10
